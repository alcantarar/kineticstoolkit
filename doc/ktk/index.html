<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.7.2" />
<title>ktk API documentation</title>
<meta name="description" content="Kinetics Toolkit
…" />
<link href='https://cdnjs.cloudflare.com/ajax/libs/normalize/8.0.0/normalize.min.css' rel='stylesheet'>
<link href='https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/8.0.0/sanitize.min.css' rel='stylesheet'>
<link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css" rel="stylesheet">
<style>.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{font-weight:bold}#index h4 + ul{margin-bottom:.6em}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ktk</code></h1>
</header>
<section id="section-intro">
<h1 id="kinetics-toolkit">Kinetics Toolkit</h1>
<p>Kinetics Toolkit (ktk) is an in-house biomechanical library developed
exclusively in Python, by Professor Félix Chénier at Université du Québec
à Montréal.</p>
<p><a href="https://felixchenier.uqam.ca">Laboratory website</a></p>
<p><a href="https://felixchenier.uqam.ca/kineticstoolkit">Kinetics Toolkit (ktk) website</a></p>
<h2 id="public-version">Public version</h2>
<p>The public version API is mostly stable (although currently almost empty). I
do not expect to remove or rename much stuff. However please keep in mind that
this is experimental software. If you are using ktk or are planning to be, you
are warmly invited to contact me, first to say Hello :-), and so that I can
warn you before doing major, possibly breaking changes.</p>
<p><a href="https://felixchenier.uqam.ca/ktk_dist/tutorials">Tutorials</a></p>
<p><a href="https://felixchenier.uqam.ca/ktk_dist/api">API documentation</a></p>
<h2 id="private-unstable-version">Private unstable version</h2>
<p>This version is exclusively used in my lab and is developed in parallel with
my research projects, following the needs of the moment. I usually wait several
months before releasing code to the public, mostly to ensure the modules are
stable and the API is mature and global enough to be shared. If you are
interested in collaborating either in research or software development, please
contact me at chenier.felix@uqam.ca</p>
<p><a href="https://felixchenier.uqam.ca/ktk_lab/tutorials">Tutorials</a></p>
<p><a href="https://felixchenier.uqam.ca/ktk_lab/api">API documentation</a></p>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ktk.TimeSeries"><code class="flex name class">
<span>class <span class="ident">TimeSeries</span></span>
<span>(</span><span>time=array([], dtype=float64), time_info={'Unit': 's'}, data={}, data_info={}, events=[], from_dataframe=None)</span>
</code></dt>
<dd>
<section class="desc"><p>A class that implements TimeSeries.</p>
<p>This class implements a Timeseries in a way that resembles the timeseries
and tscollection found in Matlab.</p>
<h2 id="attributes">Attributes</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>1</code>-<code>dimension</code> <code>np.array</code> (optional)</dt>
<dd>Contains the time vector. The default is [].</dd>
<dt><strong><code>data</code></strong> :&ensp;<code>dict</code> (optional)</dt>
<dd>Contains the data, where each element contains a np.array which
first dimension corresponds to time. The default is {}.</dd>
<dt><strong><code>time_info</code></strong> :&ensp;<code>dict</code> (optional)</dt>
<dd>Contains metadata relative to time. The default is {'Unit': 's'}</dd>
<dt><strong><code>data_info</code></strong> :&ensp;<code>dict</code> (optional)</dt>
<dd>
<p>Contains facultative metadata relative to data. For example, the
data_info attribute could indicate the unit of data['Forces']:</p>
<blockquote>
<blockquote>
<blockquote>
<p>data['Forces'] = {'Unit': 'N'}.</p>
</blockquote>
</blockquote>
</blockquote>
<p>To facilitate the management of data_info, please use
<a title="ktk.TimeSeries.add_data_info" href="#ktk.TimeSeries.add_data_info"><code>TimeSeries.add_data_info()</code></a>.</p>
<p>The default is {}.</p>
</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries(time=np.arange(0,100))
</code></pre></section>
<h3>Methods</h3>
<dl>
<dt id="ktk.TimeSeries.add_data_info"><code class="name flex">
<span>def <span class="ident">add_data_info</span></span>(<span>self, signal_name, info_name, value)</span>
</code></dt>
<dd>
<section class="desc"><p>Add metadata to TimeSeries' data.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>signel_name</code></strong> :&ensp;<code>str</code></dt>
<dd>The data key the info corresponds to.</dd>
<dt><strong><code>info_name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the info.</dd>
<dt><strong><code>value</code></strong> :&ensp;<code>any</code> <code>type</code></dt>
<dd>The info.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>None.</p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; the_timeseries.add_data_info('Forces', 'Unit', 'N')
&gt;&gt;&gt; the_timeseries.add_data_info('Marker1', 'Color', [43, 2, 255])
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.add_event"><code class="name flex">
<span>def <span class="ident">add_event</span></span>(<span>self, time, name='event')</span>
</code></dt>
<dd>
<section class="desc"><p>Add an event to the TimeSeries.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>The time of the event, in the same unit as <code>time_info['Unit']</code>
(default: 's').</dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code> (optional)</dt>
<dd>The name of the event.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>None.</p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries()
&gt;&gt;&gt; ts.add_event(5.5, 'event1')
&gt;&gt;&gt; ts.add_event(10.8, 'event2')
&gt;&gt;&gt; ts.add_event(2.3, 'event2')

&gt;&gt;&gt; print(ts.events)
    [[2.3, 'event2'], [5.5, 'event1'], [10.8, 'event2']]
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.copy"><code class="name flex">
<span>def <span class="ident">copy</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Deep copy of a TimeSeries.</p>
<h2 id="returns">Returns</h2>
<p>A deep copy of the original TimeSeries.</p></section>
</dd>
<dt id="ktk.TimeSeries.from_dataframe"><code class="name flex">
<span>def <span class="ident">from_dataframe</span></span>(<span>self, dataframe)</span>
</code></dt>
<dd>
<section class="desc"><p>Load time and data from a DataFrame.</p>
<p>The current TimeSeries' time and data properties are overwritten.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>dataframe</code></strong> :&ensp;<code>DataFrame</code></dt>
<dd>
<p>A Pandas DataFrame where the index corresponds to time, and
where each column corresponds to a data key. As special cases,
data in column which names end with bracketed indices such as
[0], [1], [0,0], [0,1], etc. are converted to multidimensional
arrays. For example, if a DataFrame has these column names:</p>
<pre><code>Forces[0], Forces[1], Forces[2], Forces[3]
</code></pre>
<p>then a single data key is created (Forces) and the data itself
will be of shape Nx4, N being the number of samples (the length
of the DataFrame).</p>
</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>self.</p></section>
</dd>
<dt id="ktk.TimeSeries.get_event_time"><code class="name flex">
<span>def <span class="ident">get_event_time</span></span>(<span>self, event_name, event_occurrence=0)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the time of the specified event.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>event_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the event to look for in the events list.</dd>
<dt><strong><code>event_occurrence</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>i_th occurence of the event to look for in the events list,
starting at 0. The default is 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>event_time</code></strong> :&ensp;<code>float</code></dt>
<dd>The time of the specified event, as a float. If no corresponding
event is found, then np.nan is returned.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; # Instanciate a timeseries with some events
&gt;&gt;&gt; ts = ktk.TimeSeries()
&gt;&gt;&gt; ts.add_event(5.5, 'event1')
&gt;&gt;&gt; ts.add_event(10.8, 'event2')
&gt;&gt;&gt; ts.add_event(2.3, 'event2')

&gt;&gt;&gt; ts.get_event_time('event1')
    5.5

&gt;&gt;&gt; ts.get_event_time('event2', 0)
    2.3

&gt;&gt;&gt; ts.get_event_time('event2', 1)
    10.8
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.get_index_after_time"><code class="name flex">
<span>def <span class="ident">get_index_after_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the time index that is just after or at the specified time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>index</code></strong> :&ensp;<code>int</code></dt>
<dd>The index in the time vector. If no value is after the
specified time, a value of np.nan is returned.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries(time=np.array([0, 0.5, 1, 1.5, 2]))

&gt;&gt;&gt; ts.get_index_after_time(0.9)
    2

&gt;&gt;&gt; ts.get_index_after_time(1)
    2

&gt;&gt;&gt; ts.get_index_after_time(1.1)
    3

&gt;&gt;&gt; ts.get_index_after_time(13)
    nan
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.get_index_at_time"><code class="name flex">
<span>def <span class="ident">get_index_at_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the time index that is the closest to the specified time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>index</code></strong> :&ensp;<code>int</code></dt>
<dd>The index in the time vector.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries(time=np.array([0, 0.5, 1, 1.5, 2]))

&gt;&gt;&gt; ts.get_index_at_time(0.9)
    2

&gt;&gt;&gt; ts.get_index_at_time(1)
    2

&gt;&gt;&gt; ts.get_index_at_time(1.1)
    2
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.get_index_before_time"><code class="name flex">
<span>def <span class="ident">get_index_before_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get the time index that is just before or at the specified time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>index</code></strong> :&ensp;<code>int</code></dt>
<dd>The index in the time vector. If no value is before the specified
time, a value of np.nan is returned.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries(time=np.array([0, 0.5, 1, 1.5, 2]))

&gt;&gt;&gt; ts.get_index_before_time(0.9)
    1

&gt;&gt;&gt; ts.get_index_before_time(1)
    2

&gt;&gt;&gt; ts.get_index_before_time(1.1)
    2

&gt;&gt;&gt; ts.get_index_before_time(-1)
    nan
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.get_subset"><code class="name flex">
<span>def <span class="ident">get_subset</span></span>(<span>self, data_keys)</span>
</code></dt>
<dd>
<section class="desc"><p>Return a subset of the TimeSeries.</p>
<p>This method returns a TimeSeries that contains only selected data
keys. For example, if a TimeSeries ts has the fields Forces, Moments
and Angle, then:</p>
<pre><code>&gt;&gt;&gt; ts.get_subset(['Forces', 'Moments'])
</code></pre>
<p>returns an identical timeseries, but without the data key Angle.</p>
<p>The corresponding data_info keys are copied in the new TimeSeries.
All events are also copied in the new TimeSeries.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>data_keys</code></strong> :&ensp;<code>str</code> or <code>list</code> of <code>str</code></dt>
<dd>The data keys to extract from the timeseries.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A copy of the TimeSeries, minus the unspecified data keys.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_after_event"><code class="name flex">
<span>def <span class="ident">get_ts_after_event</span></span>(<span>self, event_name, event_occurrence=0)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries after and at the specified event.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>event_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the event to look for in the events list.</dd>
<dt><strong><code>event_occurrence</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>i_th occurence of the event to look for in the events list,
starting at 0. The default is 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_after_time"><code class="name flex">
<span>def <span class="ident">get_ts_after_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries after and at the specified time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_at_event"><code class="name flex">
<span>def <span class="ident">get_ts_at_event</span></span>(<span>self, event_name, event_occurrence=0)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a one-data subset of the TimeSeries at the event's nearest time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>event_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the event to look for in the events list.</dd>
<dt><strong><code>event_occurrence</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>i_th occurence of the event to look for in the events list,
starting at 0. The default is 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A TimeSeries of length 1, at the event's nearest time.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_at_time"><code class="name flex">
<span>def <span class="ident">get_ts_at_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a one-data subset of the TimeSeries at the nearest time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A TimeSeries of length 1, at the time neasest to the specified
time.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_before_event"><code class="name flex">
<span>def <span class="ident">get_ts_before_event</span></span>(<span>self, event_name, event_occurrence=0)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries before and at the specified event.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>event_name</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the event to look for in the events list.</dd>
<dt><strong><code>event_occurrence</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>i_th occurence of the event to look for in the events list,
starting at 0. The default is 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_before_time"><code class="name flex">
<span>def <span class="ident">get_ts_before_time</span></span>(<span>self, time)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries before and at the specified time.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>Time to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_between_events"><code class="name flex">
<span>def <span class="ident">get_ts_between_events</span></span>(<span>self, event_name1, event_name2, event_occurrence1=0, event_occurrence2=0)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries between two specified events.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>event_name1</code></strong>, <strong><code>event_name2</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the events to look for in the events list.</dd>
<dt><strong><code>event_occurrence1</code></strong>, <strong><code>event_occurrence2</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>i_th occurence of the event to look for in the events list,
starting at 0. The default is 0.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.get_ts_between_times"><code class="name flex">
<span>def <span class="ident">get_ts_between_times</span></span>(<span>self, time1, time2)</span>
</code></dt>
<dd>
<section class="desc"><p>Get a subset of the TimeSeries between two specified times.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>time1</code></strong>, <strong><code>time2</code></strong> :&ensp;<code>float</code></dt>
<dd>Times to look for in the TimeSeries' time vector.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>ts</code></strong> :&ensp;<a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a></dt>
<dd>A new TimeSeries following the specification.</dd>
</dl></section>
</dd>
<dt id="ktk.TimeSeries.plot"><code class="name flex">
<span>def <span class="ident">plot</span></span>(<span>self, data_keys=None, plot_event_names=False, max_legend_items=5, **kwargs)</span>
</code></dt>
<dd>
<section class="desc"><p>Plot the TimeSeries using matplotlib.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>data_keys</code></strong> :&ensp;<code>string</code>, <code>list</code> or <code>tuple</code> (optional)</dt>
<dd>String or list of strings corresponding to the signals to plot.
By default, all elements of the TimeSeries are plotted.</dd>
<dt><strong><code>plot_event_names</code></strong> :&ensp;<code>bool</code> (optional)</dt>
<dd>True to plot the event names on top of the event lines.
The default is False.</dd>
<dt><strong><code>max_legend_items</code></strong> :&ensp;<code>int</code> (optional)</dt>
<dd>Maximal number of legend items, including the 'events' entry. If
there are more items in the legend, then the legend is not shown
for space and performance considerations.</dd>
</dl>
<p>Additional keyboard arguments are passed to the pyplot's plot function.</p>
<h2 id="returns">Returns</h2>
<p>None.</p>
<h2 id="example">Example</h2>
<p>If a TimeSeries's data attribute as keys 'Forces', 'Moments' and
'Angle', then:</p>
<pre><code>&gt;&gt;&gt; the_timeseries.plot(['Forces', 'Moments'])
</code></pre>
<p>plots only the forces and moments, without plotting the angle.</p></section>
</dd>
<dt id="ktk.TimeSeries.rename_data"><code class="name flex">
<span>def <span class="ident">rename_data</span></span>(<span>self, old_data_field, new_data_field)</span>
</code></dt>
<dd>
<section class="desc"><p>Rename a key in data and data_info.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>old_data_field</code></strong> :&ensp;<code>str</code></dt>
<dd>Name of the data key.</dd>
<dt><strong><code>new_data_field</code></strong> :&ensp;<code>str</code></dt>
<dd>New name of the data key.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>None.</p>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; ts = ktk.TimeSeries()
&gt;&gt;&gt; ts.data['test'] = np.arange(10)
&gt;&gt;&gt; ts.add_data_info('test', 'Unit', 'm')

&gt;&gt;&gt; ts.data
    {'test': array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])}

&gt;&gt;&gt; ts.data_info
    {'test': {'Unit': 'm'}}

&gt;&gt;&gt; ts.rename_data('test', 'signal')

&gt;&gt;&gt; ts.data
    {'signal': array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])}

&gt;&gt;&gt; ts.data_info
    {'signal': {'Unit': 'm'}}
</code></pre></section>
</dd>
<dt id="ktk.TimeSeries.to_dataframe"><code class="name flex">
<span>def <span class="ident">to_dataframe</span></span>(<span>self)</span>
</code></dt>
<dd>
<section class="desc"><p>Create a DataFrame by reshaping all data to one bidimensional table.</p>
<h2 id="parameters">Parameters</h2>
<p>None.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><strong><code>df</code></strong> :&ensp;<code>DataFrame</code></dt>
<dd>DataFrame with the index as the TimeSeries' time. Vector data are
converted to single columns, and 2-dimensional (or more) data are
converted to multiple columns with the additional dimensions in
brackets. The TimeSeries's events and metadata such as time_info
and data_info are not included in the resulting DataFrame.</dd>
</dl></section>
</dd>
</dl>
</dd>
<dt id="ktk.TimeSeriesEvent"><code class="flex name class">
<span>class <span class="ident">TimeSeriesEvent</span></span>
<span>(</span><span>time=0.0, name='event')</span>
</code></dt>
<dd>
<section class="desc"><p>Define an event in a timeseries.</p>
<p>This class derives from the list class. A TimeSeriesEvent is always a
two-items list with the first item being the time and the second item
being the name of the event.</p>
<p>The dependent properties <code>time</code> and <code>name</code> can be used both in read and
write for convenience.</p>
<p>This class is rarely used by itself, it is easier to use the <a title="ktk.TimeSeries" href="#ktk.TimeSeries"><code>TimeSeries</code></a>`
methods to deal with events.</p>
<h2 id="properties">Properties</h2>
<dl>
<dt><strong><code>time</code></strong> :&ensp;<code>float</code></dt>
<dd>The time at which the event happened.</dd>
<dt><strong><code>name</code></strong> :&ensp;<code>str</code></dt>
<dd>The name of the event.</dd>
</dl>
<h2 id="example">Example</h2>
<pre><code>&gt;&gt;&gt; event = ktk.TimeSeriesEvent()
&gt;&gt;&gt; event.time = 1.5
&gt;&gt;&gt; event.name = 'event_name'
&gt;&gt;&gt; print(event)
    [1.5, 'event_name']
</code></pre></section>
<h3>Ancestors</h3>
<ul class="hlist">
<li>builtins.list</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="ktk.TimeSeriesEvent.name"><code class="name">var <span class="ident">name</span></code></dt>
<dd>
<section class="desc"></section>
</dd>
<dt id="ktk.TimeSeriesEvent.time"><code class="name">var <span class="ident">time</span></code></dt>
<dd>
<section class="desc"></section>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#kinetics-toolkit">Kinetics Toolkit</a><ul>
<li><a href="#public-version">Public version</a></li>
<li><a href="#private-unstable-version">Private unstable version</a></li>
</ul>
</li>
</ul>
</div>
<ul id="index">
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ktk.TimeSeries" href="#ktk.TimeSeries">TimeSeries</a></code></h4>
<ul class="">
<li><code><a title="ktk.TimeSeries.add_data_info" href="#ktk.TimeSeries.add_data_info">add_data_info</a></code></li>
<li><code><a title="ktk.TimeSeries.add_event" href="#ktk.TimeSeries.add_event">add_event</a></code></li>
<li><code><a title="ktk.TimeSeries.copy" href="#ktk.TimeSeries.copy">copy</a></code></li>
<li><code><a title="ktk.TimeSeries.from_dataframe" href="#ktk.TimeSeries.from_dataframe">from_dataframe</a></code></li>
<li><code><a title="ktk.TimeSeries.get_event_time" href="#ktk.TimeSeries.get_event_time">get_event_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_index_after_time" href="#ktk.TimeSeries.get_index_after_time">get_index_after_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_index_at_time" href="#ktk.TimeSeries.get_index_at_time">get_index_at_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_index_before_time" href="#ktk.TimeSeries.get_index_before_time">get_index_before_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_subset" href="#ktk.TimeSeries.get_subset">get_subset</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_after_event" href="#ktk.TimeSeries.get_ts_after_event">get_ts_after_event</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_after_time" href="#ktk.TimeSeries.get_ts_after_time">get_ts_after_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_at_event" href="#ktk.TimeSeries.get_ts_at_event">get_ts_at_event</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_at_time" href="#ktk.TimeSeries.get_ts_at_time">get_ts_at_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_before_event" href="#ktk.TimeSeries.get_ts_before_event">get_ts_before_event</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_before_time" href="#ktk.TimeSeries.get_ts_before_time">get_ts_before_time</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_between_events" href="#ktk.TimeSeries.get_ts_between_events">get_ts_between_events</a></code></li>
<li><code><a title="ktk.TimeSeries.get_ts_between_times" href="#ktk.TimeSeries.get_ts_between_times">get_ts_between_times</a></code></li>
<li><code><a title="ktk.TimeSeries.plot" href="#ktk.TimeSeries.plot">plot</a></code></li>
<li><code><a title="ktk.TimeSeries.rename_data" href="#ktk.TimeSeries.rename_data">rename_data</a></code></li>
<li><code><a title="ktk.TimeSeries.to_dataframe" href="#ktk.TimeSeries.to_dataframe">to_dataframe</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ktk.TimeSeriesEvent" href="#ktk.TimeSeriesEvent">TimeSeriesEvent</a></code></h4>
<ul class="">
<li><code><a title="ktk.TimeSeriesEvent.name" href="#ktk.TimeSeriesEvent.name">name</a></code></li>
<li><code><a title="ktk.TimeSeriesEvent.time" href="#ktk.TimeSeriesEvent.time">time</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.7.2</a>.</p>
</footer>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
<script>hljs.initHighlightingOnLoad()</script>
</body>
</html>